{% extends 'base.html' %}

{% block content %}
<div class="inv_back">
    <div class="inv_area">
        <div class="table_outer">
            <div class="table_header">
                <p class="table_name">Hosts</p>
                <div class="filter">
                    <span>Inventory:</span>
                    <select class="inv_sel" id="inv_01" onchange="inv_change_1(inv_01.value, 'grp_01', 4, 'table_host')">
                        <option value="default">default</option>
                    </select>
                    <span>Group:</span>
                    <select class="grp_sel" id="grp_01" onchange="grp_change(inv_01.value, grp_01.value, 'table_host')">
                        <option value="all" >ALL</option>
                        <option value="no_group" >no_group</option>
                    </select>
                    <a onclick="popup('add_host')"><button>Add Host</button></a><br>
                </div>
            </div>
            <div class="table_inner">
                <table frame="box" id="table_host">
                    <tr class="table_fields">
                        <th>Hostname</th>
                        <th>IP Address</th>
                        <th>Operating System</th>
                        <th class="table_desc">Description</th>
                        <th>Operation</th>
                    </tr>
                    {% for host in hostList %}
                    <tr class="table_content" id={{ 'h_' + host[0] + '_' + host[1] + '____' + host[2]}}>
                        <td><input type="checkbox" ><a href="javascript:void(0)">{{host[2]}}</a></td>
                        <td>{{host[3]}}</td>
                        <td>{{host[4]}}</td>
                        <td>{{host[5]}}</td>
                        <td><a href="javascript:void(0)">Edit</a><a href="javascript:void(0)">Remove</a></td>
                    </tr>
                    {% endfor %}
                </table>
            </div>
        </div>
    </div>
</div>
<div class="coverup" id='add_host'>
    <div class="popup">
        <div class="popup_header">
            <span>Add new host</span>
            <input type="button" class="popup_cross" value="X" onclick="hidder('add_host')">
        </div>
        <div id="form_host">
            <form method="POST">
                <p>Inventory:</p>
                <select class="inv_sel" id="inv_02" name="inv" onchange="inv_change_2(inv_02.value, 'grp_02', 2)">
                    <option value="default">default</option>
                </select>
                <p>Group</p>
                <select class="grp_sel" id="grp_02" name="group">
                    <option value="no_group">no_group</option>
                </select>
                <label for="host_name">Hostname:</label><br>
                <input type="text" name="host_name" id="host_name"><br>
                <label for="host_ip">IP Address:</label><br>
                <input type="text" name="host_ip" id="host_ip"><br>
                
                <label for="host_os">Operating System:</label><br>
                <input type="text" name="host_os" id="host_os"><br>
                <label for="host_desc">Description:</label><br>
                <input type="text" name="host_desc" id="host_desc"><br>
                <label for="host_attr">Attributes:</label><br>
                <input type="text" name="host_attr" id="host_attr"><br>
                <input type="submit"  id="submit_host" value="confirm" ><br>
            </form>
        </div>
    </div> 
</div>
<script type="text/javascript">
    window.onload = function(){
        getData('/data/all_inv', add_inv);
        getData('/data/grps_of_inv/name/default', add_grp);
    }
</script>           
{% endblock %}